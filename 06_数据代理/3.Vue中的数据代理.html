<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Vue中的数据代理</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>

<body>
    <div id="root">
        <!-- 
            1.Vue中的数据代理:
                通过vm对象来代理data对象中属性的操作 (读/写)
            2.Vue中数据代理的好处:
                更加方便的操作data中的数据
            3.基本原理:
                通过object.defineProperty()把data对象中所有属性添加到vm上。
                为每一个添加到vm上的属性，都指定一个getter/setter。
                在getter/setter内部大操作(读/写) data中对应的属性。
        -->


        
        <!-- 
            这里就是Vue的数据代理，
            读写vm.name 和 vm.address的时候会触发相应的 getter和 setter，从而相应操作vm._data中的数据
            通过vm.name 和 vm.address 就可以操作vm._data中的 name和 address
            
            比较混淆的是：
                vm._data就是 data对象；
                只在最开始的时候使用 data对象变量，之后的操作其实都是使用 vm._data对象变量，但他们还是一个对象，只是换了个名字
            <h2>name: {{_data.name}}</h2>
            <h2>address: {{_data.address}}</h2>
         -->
        <h2>name: {{name}}</h2>
        <h2>address: {{address}}</h2>
    </div>

</body>

<script type="text/javascript">
    Vue.config.productionTip = false;

    let data = {
        name: 'tyler',
        address: 'BeiJing'
    }

    const vm = new Vue({
        el: "#root",
        // vm.data === options.data === data
        // options是Vue构造函数的参数，即这里的被花括号包起来的匿名对象
        data
    })
</script>

</html>